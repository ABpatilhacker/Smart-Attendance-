<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link rel="stylesheet" href="style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <script src="firebase.js"></script>
</head>

<body class="center">

  <h2>Login</h2>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">

  <button onclick="loginUser()">Login</button>

<script>
const role = localStorage.getItem("role");

if (!role) {
  alert("Select role first");
  window.location.href = "index.html";
}

function loginUser() {
  const email = email.value;
  const password = password.value;

  firebase.auth().signInWithEmailAndPassword(email, password)
    .then(() => {
      if (role === "admin") window.location.href = "admin.html";
      if (role === "teacher") window.location.href = "teacher.html";
      if (role === "student") window.location.href = "student.html";
    })
    .catch(err => alert(err.message));
}
</script>

</body>
</html>
